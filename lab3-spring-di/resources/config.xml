<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <!-- bean definitions here -->

    <!-- Task#1                -->
    <bean id="workoutComplex1" class="com.netcracker.model.WorkoutComplex" scope="prototype">
        <property name="name" value="workoutComplex1"/>
    </bean>
    <bean id="workoutComplex2" class="com.netcracker.model.WorkoutComplex" scope="prototype">
        <property name="name" value="workoutComplex2"/>
    </bean>

    <!--CI-->
    <bean id="workout1" class="com.netcracker.model.Workout" scope="prototype">
        <constructor-arg index="0" value="workout1"/>
        <constructor-arg index="1" value="1"/>
        <constructor-arg index="2" ref="workoutComplex1"/>
    </bean>

    <!--SI-->
    <bean id="workout2" class="com.netcracker.model.Workout" scope="prototype">
        <property name="name" value="workout2"/>
        <property name="complexity" value="2"/>
        <property name="sourceWorkoutComplex" ref="workoutComplex1"/>
    </bean>

    <!-- Task#2              -->
    <bean id="exercise1" class="com.netcracker.model.Exercise" scope="prototype">
        <property name="name" value="exercise1"/>
        <property name="description" value="descriptionOfExercise1"/>
    </bean>

    <bean id="exercise2" class="com.netcracker.model.Exercise" scope="prototype">
        <property name="name" value="exercise2"/>
        <property name="description" value="descriptionOfExercise2"/>
    </bean>

    <bean id="exercise3" class="com.netcracker.model.Exercise" scope="prototype">
        <property name="name" value="exercise3"/>
        <property name="description" value="descriptionOfExercise3"/>
    </bean>

    <bean id="measurements1" class="com.netcracker.model.Measurements" scope="prototype">
        <property name="repetitions">
            <util:list id="list1" value-type="java.lang.Integer">
                <value>5</value>
                <value>5</value>
                <value>5</value>
            </util:list>
        </property>
    </bean>

    <bean id="measurements2" class="com.netcracker.model.Measurements" scope="prototype">
        <property name="repetitions">
            <util:list id="list2" value-type="java.lang.Integer">
                <value>2</value>
                <value>2</value>
                <value>2</value>
            </util:list>
        </property>
    </bean>

    <bean id="measurements3" class="com.netcracker.model.Measurements" scope="prototype">
        <property name="repetitions">
            <util:list id="list3" value-type="java.lang.Integer">
                <value>3</value>
                <value>3</value>
                <value>3</value>
            </util:list>
        </property>
    </bean>

    <bean id="workout3" class="com.netcracker.model.Workout" scope="prototype">
        <property name="name" value="workout3"/>
        <property name="complexity" value="3"/>
        <property name="sourceWorkoutComplex" ref="workoutComplex1"/>
        <property name="exerciseList">
            <set>
                <ref bean="exercise1"/>
                <ref bean="exercise2"/>
            </set>
        </property>
        <property name="exerciseMeasurementMap">
            <map>
                <entry key="#{exercise1}" value="#{measurements1}"/>
                <entry key="#{exercise2}" value="#{measurements2}"/>
            </map>
        </property>
    </bean>

    <bean id="workout4" class="com.netcracker.model.Workout" scope="prototype">
        <property name="name" value="workout4"/>
        <property name="complexity" value="4"/>
        <property name="sourceWorkoutComplex" ref="workoutComplex1"/>
        <property name="exerciseList">
            <set>
                <ref bean="exercise3"/>
                <ref bean="exercise2"/>
            </set>
        </property>
        <property name="exerciseMeasurementMap">
            <map>
                <entry key="#{exercise3}" value="#{measurements3}"/>
                <entry key="#{exercise2}" value="#{measurements2}"/>
            </map>
        </property>
    </bean>

    <!-- Task#3            -->
    <bean id="scheduled-workout" class="com.netcracker.model.ScheduledWorkout" scope="prototype" parent="workout3">
        <property name="comment" value="Comment for scheduled workout"/>
    </bean>

    <!-- Task#4            -->
    <bean id="spelSource" class="com.netcracker.model.DefaultWorkout"/>

    <bean id="spelWorkout" class="com.netcracker.model.Workout" scope="prototype">
        <property name="name" value="#{spelSource.name}"/>
        <property name="complexity" value="#{spelSource.complexity}"/>
        <property name="sourceWorkoutComplex" value="#{spelSource.sourceWorkoutComplex}"/>
    </bean>

    <!-- Task#5           -->
    <!-- byName           -->
    <bean id="sourceWorkoutComplex" class="com.netcracker.model.WorkoutComplex">
        <property name="name" value="autowireWorkoutComplex"/>
    </bean>

    <bean id="autowireWorkout1" class="com.netcracker.model.Workout" scope="prototype" autowire = "byName">
        <property name="name" value="autowireWorkout1"/>
        <property name="complexity" value="5"/>
    </bean>

    <!-- constructor           -->
    <bean id="autowireWorkout2" class="com.netcracker.model.Workout" scope="prototype" autowire = "constructor">
        <property name="name" value="autowireWorkout2"/>
        <property name="complexity" value="5"/>
    </bean>

    <!-- Task#6           -->
    <bean id="workoutComplexFromFactory" class="com.netcracker.model.WorkoutComplex" factory-method="getWorkoutComplex"/>

    <bean id="factoryWorkout" class="com.netcracker.model.WorkoutFactory"/>
    <bean id="workoutFromFactory" class="com.netcracker.model.Workout" factory-method="getWorkout" factory-bean="factoryWorkout"/>

    <!-- Task#7           -->
    <bean id="lookupFactoryWorkout" class="com.netcracker.model.WorkoutFactory">
        <lookup-method name="getWorkout" bean="workout3"/>
    </bean>

</beans>
